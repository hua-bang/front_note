### 常见的Web安全问题

1. ##### CIA三元组知道吗

   - 机密性(Confidentiality)
   - 完整性(Integrity)
   - 可用性(Availability)

2. ##### XSS攻击如何产生

   黑客在你的游览器中插入一段恶意的js脚本，窃取你的隐私信息，冒充身份进行操作，这就是XSS操作（Cross-Site Scripting，跨站脚本攻击）

3. ##### XSS有哪些类型

   - 反射性XSS（服务器安全漏洞）
   - 基于DOM的XSS（游览器安全漏洞）
   - 存储型XSS（服务器安全漏洞）

4. ##### 实现原理

   - 反射型：恶意的js脚本属于用户发送给网站请求的一部分，随后网站又将这部分返回给用户，恶意脚本在页面中执行。一般发生在前后端一体的应用中，服务端逻辑会改变最终的网页代码。
   - 基于DOM型：网页本身的js改变HTML
   - 存储型：黑客将恶意的js脚本长期保存在服务器数据库，用户访问相关数据，恶意脚本就被执行

5. ##### 区别

   - `反射型的 XSS` 的恶意脚本存在 `URL` 里
   - `存储型 XSS` 的恶意代码存在数据库里。
   - 而基于`DOM型的XSS` 攻击中，取出和执行恶意代码由浏览器端完成，属于前端 `JavaScript` 自身的安全漏洞，其他两种 `XSS` 都属于服务端的安全漏洞。

6. ##### XSS攻击后可以做那些事

   - 盗取用户Cookie
   - 未授权操作
   - 修改DOM
   - 伪造用户行为

7. ##### XSS攻击防护

   - 输出时进行验证
   - 将HTML元素内容，属性，URL请求参数进行编码
   - 当编码影响业务时，使用`白名单规则进行检测和过滤`
   - 定义域名白名单
   - 设置Cookie的HttpOnly属性

8. ##### 什么是CSRF攻击？

   CSRF英语全称时Cross-site request forgery 跨站请求伪造

   本质：黑客诱导用户打开黑客的网站，利用用户的登录状态发起跨站请求

9. ##### 如何实现：

   - 最容易的时get请求，img的src属性来自动发起请求
   - 隐藏表单发送post请求
   - 引诱链接诱导用户点击触发请求

10. ##### XSS和CSRF区别

    - CSRF攻击不需要恶意代码注入用户页面，而是利用服务器的漏洞和用户的 登录状态进行攻击

11. ##### 如何防范CSRF攻击

    - 服务器验证请求来源站点
    - 使用CSRF TOKEN验证，服务器随机生成返回游览器的Token，每一次请求携带不同的CSRF Token

