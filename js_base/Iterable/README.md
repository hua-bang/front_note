# 迭代器 iterator
#### 理解迭代
+ #### 计数循环就是最简单的迭代
    + 迭代之前需要实现知道如何使用数据结构。 数组的每一项都是先有通过引用取得对象，再通过[]操作符取得特定索引位置上的项，并不适用所有的数据结构。
    + 遍历顺序并不是数据结构所固有的。递归索引来访问元素并不适用于所用的数据结构。
    + forEach的引入，解决了单独记录索引和通过对象取得值得问题，没办法标识迭代何时终止。
#### 迭代器模式
+ 迭代器模式 有些结构称为“可迭代对象”
+ 迭代器是按需创建得一次性对象。每次迭代器都会关联一个可迭代对象，且会暴露迭代其关联可迭代对象的api。
+ 默认迭代器 Symbol.iterator 必须引用一个迭代器工厂函数，调用函数返回一个新的迭代器。
+ 实际中，不需要显示调用工厂函数来生成迭代器，接收可迭代对象的原生语言包括
    + for-of循环
    + 数组解构
    + 扩展运算符
    + Array.from
    + 创建集合
    + 创建映射
    + Promise.all接收由promise组成的可迭代对象
    + Promise.race接收由promise组成的可迭代对象
    + yield*操作符,在生成器使用
+ #### 迭代器协议
    + 迭代器是一种一次性使用的对象，勇于迭代与其关联的可迭代对象，next方法会返回一个IteratorResult对象（done和value）done为true表明已经结束。
    + 每个迭代器都表示对可迭代对象的一次性有序遍历。不用迭代器的实例相互没有联系，只会独立地遍历可迭代对象
    + 自定义迭代器,重写[Symbol.iterator]的方法 返回的是一个对象
    + 提前终止迭代器 可用return()方法提前关闭。可能情况:
        + for-of通过break,continue,return,throw
        + 解构操作并未消费所有的值
        + 并不是所有的迭代器都是可关闭的，得看有没有定义return方法
